{% extends 'base.html' %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/clients/detail.css">
{% endblock %}

{% block content %}
<div class="client-detail-page">
    <div class="page-header">
        <div class="breadcrumbs">
            <a href="{% url 'clients:list' %}">–ö–ª–∏–µ–Ω—Ç—ã</a> &gt; 
            <span>{{ client.name }}</span>
        </div>
        
        <div class="d-flex justify-content-between align-items-center">
            <h1>{{ client.name }}</h1>
            <div class="action-buttons">
                <a href="{% url 'clients:edit' client_id=client.id %}" class="btn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                <a href="{% url 'clients:delete' client_id=client.id %}" class="btn btn-secondary">–£–¥–∞–ª–∏—Ç—å</a>
            </div>
        </div>
    </div>
    
    <div class="client-info-section card">
        <div class="section-header">
            <h2>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
        </div>
        
        <div class="client-info-grid">
            <div class="info-item">
                <div class="info-label">–¢–∏–ø –∫–ª–∏–µ–Ω—Ç–∞</div>
                <div class="info-value">{{ client.get_type_display }}</div>
            </div>
            
            <div class="info-item">
                <div class="info-label">–ò–º—è / –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</div>
                <div class="info-value">{{ client.name }}</div>
            </div>
            
            <div class="info-item">
                <div class="info-label">Email</div>
                <div class="info-value">{{ client.email|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
            </div>
            
            <div class="info-item">
                <div class="info-label">–¢–µ–ª–µ—Ñ–æ–Ω</div>
                <div class="info-value">{{ client.phone|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
            </div>
            
            <div class="info-item">
                <div class="info-label">–ê–¥—Ä–µ—Å</div>
                <div class="info-value">{{ client.address|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
            </div>
            
            <div class="info-item">
                <div class="info-label">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</div>
                <div class="info-value">{{ client.created_at|date:"d.m.Y H:i" }}</div>
            </div>
        </div>
    </div>
    
    <div class="client-info-section card">
        <div class="section-header">
            <h2>–†–µ–∫–≤–∏–∑–∏—Ç—ã</h2>
        </div>
        
        <div class="client-info-grid">
            <div class="info-item">
                <div class="info-label">–ò–ù–ù</div>
                <div class="info-value">{{ client.tax_id|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
            </div>
            
            {% if client.type == 'business' %}
            <div class="info-item">
                <div class="info-label">–ö–ü–ü</div>
                <div class="info-value">{{ client.kpp|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
            </div>
            {% endif %}
            
            <div class="info-item">
                <div class="info-label">–û–ì–†–ù / –û–ì–†–ù–ò–ü</div>
                <div class="info-value">{{ client.ogrn|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
            </div>
            
            <div class="info-item">
                <div class="info-label">–ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞</div>
                <div class="info-value">{{ client.bank_name|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
            </div>
            
            <div class="info-item">
                <div class="info-label">–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç</div>
                <div class="info-value">{{ client.bank_account|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
            </div>
            
            <div class="info-item">
                <div class="info-label">–ë–ò–ö</div>
                <div class="info-value">{{ client.bank_bik|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</div>
            </div>
        </div>
    </div>
    
    {% if client.comment %}
    <div class="client-info-section card">
        <div class="section-header">
            <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h2>
        </div>
        
        <div class="comment-content">
            {{ client.comment|linebreaks }}
        </div>
    </div>
    {% endif %}
    
    <div class="related-section card">
        <div class="section-header d-flex justify-content-between align-items-center">
            <h2>–°—á–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞</h2>
            <a href="#" class="btn">–°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç</a>
        </div>
        
        <div class="empty-message">
            <div class="empty-icon">üìÑ</div>
            <p>–£ —ç—Ç–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ–∫–∞ –Ω–µ—Ç —Å—á–µ—Ç–æ–≤</p>
        </div>
        
        <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ç–∞–±–ª–∏—Ü–∞ —Å–æ —Å—á–µ—Ç–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–∞ -->
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/js/clients/detail.js"></script>
{% endblock %} 
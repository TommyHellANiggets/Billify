{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/core/home_inside.css' %}">
{% endblock %}

{% block content %}
<div class="dashboard-welcome">
  <div class="welcome-info">
    <h1>Личный кабинет</h1>
    <p>Управляйте счетами, клиентами и аналитикой</p>
  </div>
  <div class="quick-buttons">
    <a href="/clients/" class="btn btn-sm btn-primary"><i class="fas fa-users"></i> Клиенты</a>
    <a href="/invoices/" class="btn btn-sm btn-secondary"><i class="fas fa-file-invoice"></i> Счета</a>
    <a href="/analytics/" class="btn btn-sm btn-accent"><i class="fas fa-chart-line"></i> Аналитика</a>
    <a href="/statistics/" class="btn btn-sm btn-light"><i class="fas fa-chart-bar"></i> Статистика</a>
  </div>
</div>

<div class="dashboard-grid">
  <div class="dashboard-stats-wrapper">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-file-invoice-dollar"></i></div>
        <div class="stat-content">
          <div class="stat-number">{{ invoices_count|default:"0" }}</div>
          <div class="stat-label">Счетов</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-users"></i></div>
        <div class="stat-content">
          <div class="stat-number">{{ clients_count|default:"0" }}</div>
          <div class="stat-label">Клиентов</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-money-bill-wave"></i></div>
        <div class="stat-content">
          <div class="stat-number">{{ total_earnings|default:"0" }}₽</div>
          <div class="stat-label">Доход</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-clipboard-check"></i></div>
        <div class="stat-content">
          <div class="stat-number">{{ completed_jobs|default:"0" }}</div>
          <div class="stat-label">Выполнено</div>
        </div>
      </div>
    </div>
  </div>

  <div class="quick-actions-wrapper">
    <h2>Быстрые действия</h2>
    <div class="actions-grid">
      <a href="/invoices/create/" class="action-link">
        <div class="action-card">
          <div class="action-icon"><i class="fas fa-plus-circle"></i></div>
          <h3>Создать счет</h3>
        </div>
      </a>
      <a href="/clients/add/" class="action-link">
        <div class="action-card">
          <div class="action-icon"><i class="fas fa-user-plus"></i></div>
          <h3>Добавить клиента</h3>
        </div>
      </a>
      <a href="/payments/" class="action-link">
        <div class="action-card">
          <div class="action-icon"><i class="fas fa-search-dollar"></i></div>
          <h3>Проверить оплаты</h3>
        </div>
      </a>
      <a href="/settings/" class="action-link">
        <div class="action-card">
          <div class="action-icon"><i class="fas fa-cog"></i></div>
          <h3>Настройки</h3>
        </div>
      </a>
    </div>
  </div>

  <div class="recent-activity-wrapper">
    <h2>Недавняя активность</h2>
    <div class="activity-container">
      {% if recent_activities %}
        <div class="activity-list">
          {% for activity in recent_activities %}
          <div class="activity-item">
            <div class="activity-icon"><i class="{{ activity.icon }}"></i></div>
            <div class="activity-details">
              <h4>{{ activity.title }}</h4>
              <p>{{ activity.description }}</p>
              <span class="activity-time">{{ activity.time }}</span>
            </div>
          </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="empty-state">
          <div class="empty-icon"><i class="fas fa-history"></i></div>
          <p>Здесь будет отображаться ваша активность</p>
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %} 
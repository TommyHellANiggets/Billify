{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/core/dashboard.css' %}">
{% endblock %}

{% block content %}
<!-- Новая структура дашборда -->
<div class="dashboard-container">
  <!-- Основной контент -->
  <div class="dashboard-main">
    <!-- Уведомления -->
    <div class="notification-card email-notification">
      <div class="notification-content">
        <div class="notification-icon">
          <i class="fas fa-envelope"></i>
        </div>
        <div class="notification-text">
          <h3>Подтвердите вашу электронную почту</h3>
          <p>Для полного доступа к функциям системы подтвердите вашу электронную почту</p>
        </div>
      </div>
      <a href="{% url 'core:profile' %}" class="btn btn-sm btn-primary">Подтвердить почту</a>
    </div>
    
    <div class="notification-card profile-notification">
      <div class="notification-content">
        <div class="notification-icon">
          <i class="fas fa-user-edit"></i>
        </div>
        <div class="notification-text">
          <h3>Заполните данные профиля</h3>
          <p>Для корректной работы с документами заполните данные вашей компании</p>
        </div>
      </div>
      <a href="{% url 'core:profile' %}" class="btn btn-sm btn-primary">Заполнить профиль</a>
    </div>

    <!-- Быстрые действия -->
    <div class="quick-actions">
      <h2 class="section-title"><i class="fas fa-bolt"></i> Быстрые действия</h2>
      <div class="action-grid">
        <a href="{% url 'invoices:create' %}?type=outgoing" class="action-card">
          <div class="action-icon">
            <i class="fas fa-file-export"></i>
          </div>
          <div class="action-text">Создать исходящий счет</div>
        </a>
        
        <a href="{% url 'invoices:create' %}?type=incoming" class="action-card">
          <div class="action-icon">
            <i class="fas fa-file-import"></i>
          </div>
          <div class="action-text">Создать входящий счет</div>
        </a>
        
        <a href="{% url 'clients:create' %}" class="action-card">
          <div class="action-icon">
            <i class="fas fa-user-plus"></i>
          </div>
          <div class="action-text">Добавить клиента</div>
        </a>
        
        <a href="{% url 'core:profile' %}" class="action-card">
          <div class="action-icon">
            <i class="fas fa-building"></i>
          </div>
          <div class="action-text">Профиль компании</div>
        </a>

        <a href="{% url 'analytics:dashboard' %}" class="action-card">
          <div class="action-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <div class="action-text">Аналитика</div>
        </a>
      </div>
    </div>
  </div>

  <!-- Боковая панель (недавняя активность) -->
  <div class="dashboard-sidebar">
    <div class="activity-header">
      <h2 class="activity-title">Недавняя активность</h2>
      <a href="#" class="see-all">Все <i class="fas fa-chevron-right"></i></a>
    </div>
    
    <div class="activity-feed">
      {% if recent_activities %}
        <div class="activity-list">
          {% for activity in recent_activities %}
          <div class="activity-item">
            <div class="activity-icon">
              <i class="{{ activity.icon }}"></i>
            </div>
            <div class="activity-content">
              <div class="activity-title">{{ activity.title }}</div>
              <div class="activity-desc">{{ activity.description }}</div>
              <div class="activity-time">{{ activity.time }}</div>
            </div>
          </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="activity-empty">
          <i class="fas fa-history"></i>
          <p>Здесь будет отображаться ваша активность</p>
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
  // Можно добавить интерактивность, например, обновление данных в реальном времени
  document.addEventListener('DOMContentLoaded', function() {
    // Код для анимации или дополнительных функций
  });
</script>
{% endblock %} 